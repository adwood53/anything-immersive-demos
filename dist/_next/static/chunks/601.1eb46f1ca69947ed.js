(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{2531:()=>{AFRAME.components["quaternion-rotation"]||AFRAME.registerComponent("quaternion-rotation",{schema:{type:"vec4"},init:function(){this.object3D=this.el.object3D,this.object3D.rotation.reorder("YXZ")},update:function(){let e=this.data;this.object3D.quaternion.set(e.x,e.y,e.z,e.w)}})},1601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(5155),r=n(2115);n(2531);let a=function(e){let{config:t={}}=e,{position:n="0 0 0",rotation:a="0 0 0",enableWASD:i=!1,enableLook:c=!0,raycastType:l=null}=t,s=(0,r.useRef)(null),d=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{let e=s.current;d&&e.setAttribute("position","0 0 0");let t=()=>{if(!e){console.warn("Camera entity not found, retrying..."),setTimeout(t,100);return}console.log("Camera entity found, setting up raycasting.");let n=e.querySelector("[raycaster]");n&&(n.parentNode.removeChild(n),console.log("Removed existing raycaster."));let o=document.createElement("a-entity");o.setAttribute("raycaster",{objects:".selectable",far:100,interval:100}),(null==l?void 0:l.includes("gaze"))&&(o.addEventListener("raycaster-intersection",e=>{console.log("Gaze intersection detected with:",e.detail.intersectedEls)}),o.addEventListener("raycaster-intersection-cleared",()=>{console.log("Gaze intersection cleared.")})),(null==l?void 0:l.includes("click"))&&o.addEventListener("click",e=>{console.log("Click detected on:",e.target)}),e.appendChild(o),console.log("Raycaster entity appended.")};return l&&t(),()=>{let e=document.querySelector("[raycaster]");e&&(e.parentNode.removeChild(e),console.log("Cleaned up raycaster."))}},[t]),(0,o.jsx)("a-entity",{position:n,"wasd-controls":"enabled: ".concat(i),"look-controls":"enabled: ".concat(c),children:(0,o.jsx)("a-camera",{camera:"active: true; fov: 75; near: 0.01; far: 1000;",ref:s,position:"0 0 0",rotation:!0,"quaternion-rotation":!0,"wasd-controls":"enabled: false","look-controls":"enabled: false"})})}}}]);