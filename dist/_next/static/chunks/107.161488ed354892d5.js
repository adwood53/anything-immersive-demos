(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107,822],{3107:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>r});var a=t(5155),n=t(2115),l=t(8441),d=t.n(l);let r=()=>{let e=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(async()=>{let a=e.current,n=i.current;if(!a||!n)return;let l=n.getContext("2d",{alpha:!1,desynchronized:!0}),[{AlvaAR:d},{Camera:r,resize2cover:h}]=await Promise.all([t.e(834).then(t.bind(t,7834)),t.e(165).then(t.bind(t,8165))]),c=(await r.Initialize({video:{facingMode:"environment",aspectRatio:16/9,width:{ideal:1280}},audio:!1})).el,o=h(c.videoWidth,c.videoHeight,a.clientWidth,a.clientHeight);n.width=a.clientWidth,n.height=a.clientHeight,c.style.width="".concat(o.width,"px"),c.style.height="".concat(o.height,"px");let s=await d.Initialize(n.width,n.height);a.appendChild(n),document.body.addEventListener("click",()=>s.reset(),!1);let f=()=>{if(!document.hidden){l.drawImage(c,0,0,c.videoWidth,c.videoHeight,o.x,o.y,o.width,o.height);let e=l.getImageData(0,0,n.width,n.height);if(s.findCameraPose(e))console.log("have pose");else for(let e of s.getFramePoints())l.fillStyle="white",l.fillRect(e.x,e.y,2,2);requestAnimationFrame(f)}};f()})().catch(e=>{console.error("Error initializing SLAM:",e)})},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{id:"container",className:"".concat(d().container),ref:e}),(0,a.jsx)("canvas",{ref:i})]})}},8441:e=>{e.exports={container:"DeviceCamera_container__j2VGQ",fadeIn:"DeviceCamera_fadeIn__Cr6HF",splash:"DeviceCamera_splash__bimCV",overlay:"DeviceCamera_overlay__fOsCB"}}}]);